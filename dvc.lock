schema: '2.0'
stages:
  train:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics --tb-log-dir
      data/tiered_imagenet/tb_logs/semantic_one --output-model data/tiered_imagenet/models/trained_model.tar
      &> data/tiered_imagenet/logs/train.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: e974e9f819c72d598eb0ab513a10b17d
      size: 3145
    outs:
    - path: data/tiered_imagenet/logs/train.out
      md5: fd15927232b5c616eb4960987211f244
      size: 5879
    - path: data/tiered_imagenet/metrics/training_tasks.pkl
      md5: 7081acff92cf5e498dbcfc7a99173f33
      size: 20329
    - path: data/tiered_imagenet/models/trained_model.tar
      md5: 844511084c5dede741d9dacdb5b8c614
      size: 44787200
  compute_distances@test:
    cmd: python -m src.compute_semantic_distances --split test --specs-dir data/tiered_imagenet/specs
      --output-dir data/tiered_imagenet/distances &> data/tiered_imagenet/logs/compute_test_distances.out
    deps:
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/specs/wordnet.is_a.txt
      md5: 26d5d2bf0f43a269950ae5f551dfadbd
      size: 1517000
    - path: src/compute_semantic_distances.py
      md5: a3ddcd1af0e684ca68b5ded994f5ced4
      size: 1079
    outs:
    - path: data/tiered_imagenet/distances/test.csv
      md5: 84de996abe3b91d74ae9599578a9fc90
      size: 467358
    - path: data/tiered_imagenet/logs/compute_test_distances.out
      md5: e07cfd43950fe9bc70bb5a03fd771e95
      size: 9454
  compute_distances@train:
    cmd: python -m src.compute_semantic_distances --split train --specs-dir data/tiered_imagenet/specs
      --output-dir data/tiered_imagenet/distances &> data/tiered_imagenet/logs/compute_train_distances.out
    deps:
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/wordnet.is_a.txt
      md5: 26d5d2bf0f43a269950ae5f551dfadbd
      size: 1517000
    - path: src/compute_semantic_distances.py
      md5: a3ddcd1af0e684ca68b5ded994f5ced4
      size: 1079
    outs:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/logs/compute_train_distances.out
      md5: 54284a60f2dc73d1314fffa7e84476c6
      size: 22591
  evaluate:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --trained-model
      data/tiered_imagenet/models/trained_model.tar --output-dir data/tiered_imagenet/metrics
      &> data/tiered_imagenet/logs/evaluate.out
    deps:
    - path: data/tiered_imagenet/models/trained_model.tar
      md5: 844511084c5dede741d9dacdb5b8c614
      size: 44787200
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: src/evaluate.py
      md5: e5b3f77d2e31d38b90e7036bf8a828a7
      size: 1746
    outs:
    - path: data/tiered_imagenet/logs/evaluate.out
      md5: 0f1542010992eb5fe7aabd283a3a08c4
      size: 1410
    - path: data/tiered_imagenet/metrics/raw_results.csv
      md5: 130ba28ddd983b9cd67ac2a443bc9219
      size: 231202
  compute_metrics:
    cmd: python -m src.compute_metrics --distances-dir data/tiered_imagenet/distances
      --metrics-dir data/tiered_imagenet/metrics &> data/tiered_imagenet/logs/compute_metrics.out
    deps:
    - path: data/tiered_imagenet/distances/test.csv
      md5: 84de996abe3b91d74ae9599578a9fc90
      size: 467358
    - path: data/tiered_imagenet/metrics/raw_results.csv
      md5: 130ba28ddd983b9cd67ac2a443bc9219
      size: 231202
    - path: src/compute_metrics.py
      md5: 23db77dcf154ac1c0cd286dc9001f4eb
      size: 1788
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics.out
      md5: 44c4ab8319dce45bfdcd81592c82f69a
      size: 441
    - path: data/tiered_imagenet/metrics/accuracy_v_task_class_distance.png
      md5: 3ebf7f474a8fbd927a6fcb9b97d8fb59
      size: 15714
    - path: data/tiered_imagenet/metrics/task_performances.csv
      md5: d3f5cd209e5022ac44de42d3c43da96c
      size: 945
  train@0.005:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.005
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic/0.005 --output-model data/tiered_imagenet/models/trained_model_semantic_0.005.tar
      --sampler semantic --semantic-alpha 0.005 --device cuda:0 &> data/tiered_imagenet/logs/train_semantic_0.005.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 724533e1412233fb8783eb636ffeb260
      size: 4205
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_0.005.out
      md5: edb0f60cf4e2a4c58d07ec0002383640
      size: 6483554
    - path: data/tiered_imagenet/metrics/semantic/0.005/training_tasks.pkl
      md5: b140fcc52c4e63b9179d1d1494053a30
      size: 20166255
    - path: data/tiered_imagenet/models/trained_model_semantic_0.005.tar
      md5: 4551f8d3520f5b4c88628ae9974e4f63
      size: 44787267
  evaluate@0.005:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_0.005.tar
      --output-dir data/tiered_imagenet/metrics/semantic/0.005 &> data/tiered_imagenet/logs/evaluate_0.005.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_0.005.tar
      md5: 4551f8d3520f5b4c88628ae9974e4f63
      size: 44787267
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: fccb30849bcb7bb8f5ade6b2780e1f9b
      size: 1887
    outs:
    - path: data/tiered_imagenet/logs/evaluate_0.005.out
      md5: 104ee00bcbd41aa0ae8d248b934229e6
      size: 368810
    - path: data/tiered_imagenet/metrics/semantic/0.005/raw_results.csv
      md5: 0bda6eb7be55d01c269fee4d0a3e9e35
      size: 63672062
  compute_metrics@0.005:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic/0.005 &> data/tiered_imagenet/logs/compute_metrics_0.005.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic/0.005/raw_results.csv
      md5: 0bda6eb7be55d01c269fee4d0a3e9e35
      size: 63672062
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: d13f5f9c3d7188b002299f827bdd9e68
      size: 2292
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_0.005.out
      md5: b4f3396e78ad2d5bf43e2bed2725c64e
      size: 725
    - path: data/tiered_imagenet/metrics/semantic/0.005/accuracy_v_variance.png
      md5: 7b73fc87d4373b64aeb84147ff74725a
      size: 57555
    - path: data/tiered_imagenet/metrics/semantic/0.005/evaluation_metrics.json
      md5: a11d69c44bea4c72eeffc06dad7bbd2e
      size: 226
    - path: data/tiered_imagenet/metrics/semantic/0.005/task_performances.csv
      md5: 6eee13e8cb90be4dc74157abd8766322
      size: 138451
  train@0.1:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.1
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic/0.1 --output-model data/tiered_imagenet/models/trained_model_semantic_0.1.tar
      --sampler semantic --semantic-alpha 0.1 --device cuda:0 &> data/tiered_imagenet/logs/train_semantic_0.1.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 724533e1412233fb8783eb636ffeb260
      size: 4205
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_0.1.out
      md5: e1466aa28306c129e172df5e0a45031e
      size: 6481360
    - path: data/tiered_imagenet/metrics/semantic/0.1/training_tasks.pkl
      md5: b90f3038248e2138519ddd1340c70876
      size: 20166556
    - path: data/tiered_imagenet/models/trained_model_semantic_0.1.tar
      md5: 5ed4ec5ba8c7127f733997a665c0bec5
      size: 44787267
  evaluate@0.1:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_0.1.tar --output-dir
      data/tiered_imagenet/metrics/semantic/0.1 &> data/tiered_imagenet/logs/evaluate_0.1.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_0.1.tar
      md5: 5ed4ec5ba8c7127f733997a665c0bec5
      size: 44787267
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: fccb30849bcb7bb8f5ade6b2780e1f9b
      size: 1887
    outs:
    - path: data/tiered_imagenet/logs/evaluate_0.1.out
      md5: 6d6bd375139ab33b1511552982473c11
      size: 368973
    - path: data/tiered_imagenet/metrics/semantic/0.1/raw_results.csv
      md5: 7697850d4020a0a7d20fb212041fac9b
      size: 63671656
  compute_metrics@0.1:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic/0.1 &> data/tiered_imagenet/logs/compute_metrics_0.1.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic/0.1/raw_results.csv
      md5: 7697850d4020a0a7d20fb212041fac9b
      size: 63671656
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: d13f5f9c3d7188b002299f827bdd9e68
      size: 2292
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_0.1.out
      md5: 6fba826b40a761261430433a09831a45
      size: 719
    - path: data/tiered_imagenet/metrics/semantic/0.1/accuracy_v_variance.png
      md5: af1bd631a8caf0e3aa38a56dd6b50606
      size: 56650
    - path: data/tiered_imagenet/metrics/semantic/0.1/evaluation_metrics.json
      md5: ac7e7669ddcb60d454079a0179d2e813
      size: 235
    - path: data/tiered_imagenet/metrics/semantic/0.1/task_performances.csv
      md5: ecd4919b6db4fca5f1feaa2f89cc5cbe
      size: 138438
  train@0.01:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.01
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic/0.01 --output-model data/tiered_imagenet/models/trained_model_semantic_0.01.tar
      --sampler semantic --semantic-alpha 0.01 --device cuda:0 &> data/tiered_imagenet/logs/train_semantic_0.01.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 724533e1412233fb8783eb636ffeb260
      size: 4205
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_0.01.out
      md5: efd00cf92dd5ded3fb846efae0ff4e1b
      size: 6489522
    - path: data/tiered_imagenet/metrics/semantic/0.01/training_tasks.pkl
      md5: 91d18bff6893ef1b7752e2bcd3b24bcd
      size: 20166010
    - path: data/tiered_imagenet/models/trained_model_semantic_0.01.tar
      md5: 645cebae7513f76ff624476066716247
      size: 44787285
  evaluate@0.01:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_0.01.tar
      --output-dir data/tiered_imagenet/metrics/semantic/0.01 &> data/tiered_imagenet/logs/evaluate_0.01.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_0.01.tar
      md5: 645cebae7513f76ff624476066716247
      size: 44787285
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: fccb30849bcb7bb8f5ade6b2780e1f9b
      size: 1887
    outs:
    - path: data/tiered_imagenet/logs/evaluate_0.01.out
      md5: 145a0892945012cb1ed9d167d3a015d1
      size: 369515
    - path: data/tiered_imagenet/metrics/semantic/0.01/raw_results.csv
      md5: 2830b5cffd68ed3f8db25ed1423429f5
      size: 63664567
  compute_metrics@0.01:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic/0.01 &> data/tiered_imagenet/logs/compute_metrics_0.01.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic/0.01/raw_results.csv
      md5: 2830b5cffd68ed3f8db25ed1423429f5
      size: 63664567
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: d13f5f9c3d7188b002299f827bdd9e68
      size: 2292
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_0.01.out
      md5: b59a6118759bf0ce16695b4054384215
      size: 722
    - path: data/tiered_imagenet/metrics/semantic/0.01/accuracy_v_variance.png
      md5: 2bd4cfe89e9341813df969df51e4dcb8
      size: 53726
    - path: data/tiered_imagenet/metrics/semantic/0.01/evaluation_metrics.json
      md5: ccd1008b88fb796bca2319d0f8284f63
      size: 246
    - path: data/tiered_imagenet/metrics/semantic/0.01/task_performances.csv
      md5: 8958c739018e27b02e9da0648003c207
      size: 138430
  train@0.05:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.05
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic/0.05 --output-model data/tiered_imagenet/models/trained_model_semantic_0.05.tar
      --sampler semantic --semantic-alpha 0.05 --device cuda:0 &> data/tiered_imagenet/logs/train_semantic_0.05.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 724533e1412233fb8783eb636ffeb260
      size: 4205
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_0.05.out
      md5: 4f295356fb8ca18d9a3b4c63c3e472be
      size: 6492525
    - path: data/tiered_imagenet/metrics/semantic/0.05/training_tasks.pkl
      md5: fd78d33fb3bd3926599c20aaf8e54c7c
      size: 20161654
    - path: data/tiered_imagenet/models/trained_model_semantic_0.05.tar
      md5: 0e484484ea46bef4fb28ebb1199ada41
      size: 44787143
  evaluate@0.05:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_0.05.tar
      --output-dir data/tiered_imagenet/metrics/semantic/0.05 &> data/tiered_imagenet/logs/evaluate_0.05.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_0.05.tar
      md5: 0e484484ea46bef4fb28ebb1199ada41
      size: 44787143
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: fccb30849bcb7bb8f5ade6b2780e1f9b
      size: 1887
    outs:
    - path: data/tiered_imagenet/logs/evaluate_0.05.out
      md5: 9ef52f7096b5d60636c054a5284f53b8
      size: 369311
    - path: data/tiered_imagenet/metrics/semantic/0.05/raw_results.csv
      md5: 1892fe02c94cb7ef94e55323a5220290
      size: 63689676
  compute_metrics@0.05:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic/0.05 &> data/tiered_imagenet/logs/compute_metrics_0.05.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic/0.05/raw_results.csv
      md5: 1892fe02c94cb7ef94e55323a5220290
      size: 63689676
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: d13f5f9c3d7188b002299f827bdd9e68
      size: 2292
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_0.05.out
      md5: 25160237b7a98d48722354350c228357
      size: 722
    - path: data/tiered_imagenet/metrics/semantic/0.05/accuracy_v_variance.png
      md5: 933d77cc7495b461faa20783f790db93
      size: 57356
    - path: data/tiered_imagenet/metrics/semantic/0.05/evaluation_metrics.json
      md5: 0d1d8c7906341782c536fddfa1ee9105
      size: 235
    - path: data/tiered_imagenet/metrics/semantic/0.05/task_performances.csv
      md5: bcfae2ca975585265e20ad897fcb1234
      size: 138448
  get_train_stats@0.05:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic/0.05/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.05
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic/0.05/training_tasks.pkl
      md5: fd78d33fb3bd3926599c20aaf8e54c7c
      size: 20161654
    outs:
    - path: data/tiered_imagenet/metrics/semantic/0.05/intra_training_task_distances.csv
      md5: 86767aeef323b02287e2ce696314d15b
      size: 1709649
    - path: data/tiered_imagenet/metrics/semantic/0.05/training_classes_biconfusion.png
      md5: abfa36218e6568cb374525977e90092b
      size: 181817
    - path: data/tiered_imagenet/metrics/semantic/0.05/training_classes_sampled_together.png
      md5: c10b2144ed6ca34356275c113d2cd70d
      size: 152967
  get_train_stats@0.1:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic/0.1/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.1
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic/0.1/training_tasks.pkl
      md5: b90f3038248e2138519ddd1340c70876
      size: 20166556
    outs:
    - path: data/tiered_imagenet/metrics/semantic/0.1/intra_training_task_distances.csv
      md5: 872adf619f1f4a69610bc47f2c0a7ec9
      size: 1709224
    - path: data/tiered_imagenet/metrics/semantic/0.1/training_classes_biconfusion.png
      md5: 47f0260c4515f9d196ada3fb84fba7fd
      size: 172635
    - path: data/tiered_imagenet/metrics/semantic/0.1/training_classes_sampled_together.png
      md5: 1b62d820ed08c4bf294d4827327ae59a
      size: 148950
  get_train_stats@0.005:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic/0.005/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.005
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic/0.005/training_tasks.pkl
      md5: b140fcc52c4e63b9179d1d1494053a30
      size: 20166255
    outs:
    - path: data/tiered_imagenet/metrics/semantic/0.005/intra_training_task_distances.csv
      md5: 83dd7f269f4ac8d2a49d09599164d6af
      size: 1709465
    - path: data/tiered_imagenet/metrics/semantic/0.005/training_classes_biconfusion.png
      md5: 040c90c7394fc51ba45a414c16906f9c
      size: 188841
    - path: data/tiered_imagenet/metrics/semantic/0.005/training_classes_sampled_together.png
      md5: 8a6edc7304f997d1f337c3c222614df6
      size: 152248
  get_train_stats@0.01:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic/0.01/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic/0.01
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic/0.01/training_tasks.pkl
      md5: 91d18bff6893ef1b7752e2bcd3b24bcd
      size: 20166010
    outs:
    - path: data/tiered_imagenet/metrics/semantic/0.01/intra_training_task_distances.csv
      md5: 10f2693a4a0d1b87ed37baf9cc29470b
      size: 1709476
    - path: data/tiered_imagenet/metrics/semantic/0.01/training_classes_biconfusion.png
      md5: 97dc03276a1352021ed1e941972b4569
      size: 188844
    - path: data/tiered_imagenet/metrics/semantic/0.01/training_classes_sampled_together.png
      md5: 39d554089ce902f817bb12f60e98b81b
      size: 150111
  create_testbed@5:
    cmd: python -m src.create_testbed --n-shot 5 --out-file data/tiered_imagenet/testbeds/testbed_5_shot.csv
    deps:
    - path: data/tiered_imagenet/distances/test.csv
      md5: 84de996abe3b91d74ae9599578a9fc90
      size: 467358
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: src/create_testbed.py
      md5: d1308278205f33454b02c06b910a0360
      size: 9942
    outs:
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: data/tiered_imagenet/testbeds/testbed_5_shot_occ.png
      md5: dac8808888df5d729bcb4558eff50ecd
      size: 13638
    - path: data/tiered_imagenet/testbeds/testbed_5_shot_pv.png
      md5: 1f955edce5067da0838e3bc7d47ad2d6
      size: 17303
  create_testbed@1:
    cmd: python -m src.create_testbed --n-shot 1 --out-file data/tiered_imagenet/testbeds/testbed_1_shot.csv
    deps:
    - path: data/tiered_imagenet/distances/test.csv
      md5: 84de996abe3b91d74ae9599578a9fc90
      size: 467358
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: src/create_testbed.py
      md5: d1308278205f33454b02c06b910a0360
      size: 9942
    outs:
    - path: data/tiered_imagenet/testbeds/testbed_1_shot.csv
      md5: 9923a9df3301ccdc89b7348eb3f219d6
      size: 12439289
    - path: data/tiered_imagenet/testbeds/testbed_1_shot_occ.png
      md5: dac8808888df5d729bcb4558eff50ecd
      size: 13638
    - path: data/tiered_imagenet/testbeds/testbed_1_shot_pv.png
      md5: 1f955edce5067da0838e3bc7d47ad2d6
      size: 17303
  train@3:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e1
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic_e1 --output-model data/tiered_imagenet/models/trained_model_semantic_e1.tar
      --sampler semantic --semantic-alpha 0.1 --random-seed 1 --device cuda:1 &> data/tiered_imagenet/logs/train_semantic_e1.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_e1.out
      md5: 80187ec35d5f6e01735dd12c2c15b103
      size: 5228037
    - path: data/tiered_imagenet/metrics/semantic_e1/training_tasks.pkl
      md5: f8902e6d8b5d0714e1d5aa62d5edffd1
      size: 25211272
    - path: data/tiered_imagenet/models/trained_model_semantic_e1.tar
      md5: c9710a3b9093471c229749d1293dd132
      size: 44787169
  get_train_stats@3:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic_e1/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e1
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic_e1/training_tasks.pkl
      md5: f8902e6d8b5d0714e1d5aa62d5edffd1
      size: 25211272
    outs:
    - path: data/tiered_imagenet/metrics/semantic_e1/intra_training_task_distances.csv
      md5: ae678e733f5d7f68e279cf9138c38fc9
      size: 2139083
    - path: data/tiered_imagenet/metrics/semantic_e1/training_classes_biconfusion.png
      md5: 426bc9a4d70c39d729127142269ad0b6
      size: 178607
    - path: data/tiered_imagenet/metrics/semantic_e1/training_classes_sampled_together.png
      md5: b79ea70d1461747256a889a1fb250494
      size: 159204
  evaluate@3:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_e1.tar --output-dir
      data/tiered_imagenet/metrics/semantic_e1 --device cuda:1 &> data/tiered_imagenet/logs/evaluate_semantic_e1.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_e1.tar
      md5: c9710a3b9093471c229749d1293dd132
      size: 44787169
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_semantic_e1.out
      md5: 4b22d4d024eab1ab6e26e63e3454be7d
      size: 370404
    - path: data/tiered_imagenet/metrics/semantic_e1/raw_results.csv
      md5: 043a73b5f3c78d118cfc9e7d1374aed7
      size: 63705129
  compute_metrics@3:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic_e1 &> data/tiered_imagenet/logs/compute_metrics_semantic_e1.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic_e1/raw_results.csv
      md5: 043a73b5f3c78d118cfc9e7d1374aed7
      size: 63705129
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_semantic_e1.out
      md5: 8ba2fb27adc3690b6e74b577016239d7
      size: 716
    - path: data/tiered_imagenet/metrics/semantic_e1/accuracy_v_variance.png
      md5: 7c5c0024a9db720017bfd92308ad87cc
      size: 57107
    - path: data/tiered_imagenet/metrics/semantic_e1/evaluation_metrics.json
      md5: fb78e7f41aee4422abc6900b482f45a5
      size: 234
    - path: data/tiered_imagenet/metrics/semantic_e1/task_performances.csv
      md5: 17b7be8edfb99e8d3cff00452ab73479
      size: 138417
  train@0:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_0
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic_0 --output-model data/tiered_imagenet/models/trained_model_semantic_0.tar
      --sampler semantic --semantic-alpha 0.0 --random-seed 1 --device cuda:1 &> data/tiered_imagenet/logs/train_semantic_0.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_0.out
      md5: ba4b2fef4ca87b4c9d9b3d40cf1f8d3c
      size: 5232142
    - path: data/tiered_imagenet/metrics/semantic_0/training_tasks.pkl
      md5: f847d089c0f731767616f76f8a92b0b4
      size: 25208012
    - path: data/tiered_imagenet/models/trained_model_semantic_0.tar
      md5: 872fe1a5b63ef9f02d47f3dfefb05a4f
      size: 44787149
  get_train_stats@0:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic_0/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_0
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic_0/training_tasks.pkl
      md5: f847d089c0f731767616f76f8a92b0b4
      size: 25208012
    outs:
    - path: data/tiered_imagenet/metrics/semantic_0/intra_training_task_distances.csv
      md5: 50babd3528d8e1535dff59870e5bb5e5
      size: 2139394
    - path: data/tiered_imagenet/metrics/semantic_0/training_classes_biconfusion.png
      md5: 9dce82d5eecea17e8047693e7eae4761
      size: 187794
    - path: data/tiered_imagenet/metrics/semantic_0/training_classes_sampled_together.png
      md5: 3e79ad517a9afdec11440ab9ccaba3d5
      size: 153811
  evaluate@0:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_0.tar --output-dir
      data/tiered_imagenet/metrics/semantic_0 --device cuda:1 &> data/tiered_imagenet/logs/evaluate_semantic_0.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_0.tar
      md5: 872fe1a5b63ef9f02d47f3dfefb05a4f
      size: 44787149
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_semantic_0.out
      md5: 70cada21dca858f2d6a7a1a7b545b2ae
      size: 370400
    - path: data/tiered_imagenet/metrics/semantic_0/raw_results.csv
      md5: 69eaa04602327d01ab4786d2529cc06b
      size: 63736384
  compute_metrics@0:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic_0 &> data/tiered_imagenet/logs/compute_metrics_semantic_0.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic_0/raw_results.csv
      md5: 69eaa04602327d01ab4786d2529cc06b
      size: 63736384
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_semantic_0.out
      md5: 16d5438c38e6e1bc7c83e7f7663bf07b
      size: 713
    - path: data/tiered_imagenet/metrics/semantic_0/accuracy_v_variance.png
      md5: 823c8b6475fe4bd41813acc9298fef10
      size: 56722
    - path: data/tiered_imagenet/metrics/semantic_0/evaluation_metrics.json
      md5: 404cf577c855a85c0171db2b98896fef
      size: 245
    - path: data/tiered_imagenet/metrics/semantic_0/task_performances.csv
      md5: be95256bd661a9cc1fab676ea5e1a9ab
      size: 138436
  train@1:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e3
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic_e3 --output-model data/tiered_imagenet/models/trained_model_semantic_e3.tar
      --sampler semantic --semantic-alpha 0.001 --random-seed 1 --device cuda:1 &>
      data/tiered_imagenet/logs/train_semantic_e3.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_e3.out
      md5: b07d0c4b8795dc05060d4a42e82f9beb
      size: 5231657
    - path: data/tiered_imagenet/metrics/semantic_e3/training_tasks.pkl
      md5: 460669dcdfa750ae719d77757f40d03f
      size: 25210209
    - path: data/tiered_imagenet/models/trained_model_semantic_e3.tar
      md5: d237d8b4491ff6c0bc914fd7b18533ab
      size: 44787174
  get_train_stats@1:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic_e3/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e3
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic_e3/training_tasks.pkl
      md5: 460669dcdfa750ae719d77757f40d03f
      size: 25210209
    outs:
    - path: data/tiered_imagenet/metrics/semantic_e3/intra_training_task_distances.csv
      md5: 498f75c8be54d5e2c9514081e9e6ac4c
      size: 2139494
    - path: data/tiered_imagenet/metrics/semantic_e3/training_classes_biconfusion.png
      md5: 2645c85b7c7d23a933fe8a5c983beaf6
      size: 186367
    - path: data/tiered_imagenet/metrics/semantic_e3/training_classes_sampled_together.png
      md5: 7a734b362715e2b5e75d95f0cc140c4e
      size: 154519
  evaluate@1:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_e3.tar --output-dir
      data/tiered_imagenet/metrics/semantic_e3 --device cuda:1 &> data/tiered_imagenet/logs/evaluate_semantic_e3.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_e3.tar
      md5: d237d8b4491ff6c0bc914fd7b18533ab
      size: 44787174
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_semantic_e3.out
      md5: a005b004ec2e91a3fd82f22f1dedff69
      size: 370108
    - path: data/tiered_imagenet/metrics/semantic_e3/raw_results.csv
      md5: 7b59953420c35471efb5a2eaf096c0cb
      size: 63725670
  compute_metrics@1:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic_e3 &> data/tiered_imagenet/logs/compute_metrics_semantic_e3.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic_e3/raw_results.csv
      md5: 7b59953420c35471efb5a2eaf096c0cb
      size: 63725670
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_semantic_e3.out
      md5: 0aeedab7d9d9ef2f851e81c29d704c16
      size: 716
    - path: data/tiered_imagenet/metrics/semantic_e3/accuracy_v_variance.png
      md5: ef9349e21e9cbe5dbeb6df23929faa21
      size: 55517
    - path: data/tiered_imagenet/metrics/semantic_e3/evaluation_metrics.json
      md5: 349bcc253a4c784444e1b619460094dd
      size: 235
    - path: data/tiered_imagenet/metrics/semantic_e3/task_performances.csv
      md5: 3b65dfc785a6ed8d1663e7b2d7d84c59
      size: 138424
  train@5:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/adaptive
      --tb-log-dir data/tiered_imagenet/tb_logs/adaptive --output-model data/tiered_imagenet/models/trained_model_adaptive.tar
      --sampler adaptive --semantic-alpha 0.0 --random-seed 1 --device cuda:1 &> data/tiered_imagenet/logs/train_adaptive.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_adaptive.out
      md5: 60a3f354159b2625228d9af4b4ca3746
      size: 5230447
    - path: data/tiered_imagenet/metrics/adaptive/training_tasks.pkl
      md5: 1376a3d56c23253d0240d5b0ea9038d2
      size: 25209376
    - path: data/tiered_imagenet/models/trained_model_adaptive.tar
      md5: 94a827fd08f941faab1c860971392267
      size: 44787162
  get_train_stats@5:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/adaptive/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/adaptive
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/adaptive/training_tasks.pkl
      md5: 1376a3d56c23253d0240d5b0ea9038d2
      size: 25209376
    outs:
    - path: data/tiered_imagenet/metrics/adaptive/intra_training_task_distances.csv
      md5: 4c1ba037893cfcd50266c7d259f99108
      size: 2139516
    - path: data/tiered_imagenet/metrics/adaptive/training_classes_biconfusion.png
      md5: 9f46d79c5c84923e839f41f78383955d
      size: 186058
    - path: data/tiered_imagenet/metrics/adaptive/training_classes_sampled_together.png
      md5: 4acd27d533d387de18f4260afd28e04e
      size: 151926
  evaluate@5:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_adaptive.tar --output-dir
      data/tiered_imagenet/metrics/adaptive --device cuda:1 &> data/tiered_imagenet/logs/evaluate_adaptive.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_adaptive.tar
      md5: 94a827fd08f941faab1c860971392267
      size: 44787162
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_adaptive.out
      md5: cd97b8e63c754f90365ebe8907557064
      size: 370646
    - path: data/tiered_imagenet/metrics/adaptive/raw_results.csv
      md5: 5b69215305728a89f4cc8dc7bed2c1fd
      size: 63719774
  compute_metrics@5:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/adaptive &> data/tiered_imagenet/logs/compute_metrics_adaptive.out
    deps:
    - path: data/tiered_imagenet/metrics/adaptive/raw_results.csv
      md5: 5b69215305728a89f4cc8dc7bed2c1fd
      size: 63719774
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_adaptive.out
      md5: 545527f8e1c53da801828bec2b505204
      size: 707
    - path: data/tiered_imagenet/metrics/adaptive/accuracy_v_variance.png
      md5: 28bfc7e18b18c699ed41e37ba7a3d7cb
      size: 57098
    - path: data/tiered_imagenet/metrics/adaptive/evaluation_metrics.json
      md5: d08efffa9ca111281a4662ccedf6edd2
      size: 236
    - path: data/tiered_imagenet/metrics/adaptive/task_performances.csv
      md5: 7c9c5b41234fd02bfb42d2e1e42f7dd7
      size: 138381
  train@4:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/uniform
      --tb-log-dir data/tiered_imagenet/tb_logs/uniform --output-model data/tiered_imagenet/models/trained_model_uniform.tar
      --sampler uniform --semantic-alpha 0.0 --random-seed 1 --device cuda:1 &> data/tiered_imagenet/logs/train_uniform.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_uniform.out
      md5: 4bfdde63c70b81f000120154abb2ade8
      size: 5230531
    - path: data/tiered_imagenet/metrics/uniform/training_tasks.pkl
      md5: 8e187557996a6b26e030b7bdd72a7938
      size: 25210674
    - path: data/tiered_imagenet/models/trained_model_uniform.tar
      md5: 2a229fb816708663fc0954b3ac64dd8a
      size: 44787162
  get_train_stats@4:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/uniform/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/uniform
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/uniform/training_tasks.pkl
      md5: 8e187557996a6b26e030b7bdd72a7938
      size: 25210674
    outs:
    - path: data/tiered_imagenet/metrics/uniform/intra_training_task_distances.csv
      md5: dd9daebb8909ac3fa827925f6bf3207d
      size: 2139491
    - path: data/tiered_imagenet/metrics/uniform/training_classes_biconfusion.png
      md5: 56bc0655e3577b1b8b38005e8e4fc87d
      size: 190124
    - path: data/tiered_imagenet/metrics/uniform/training_classes_sampled_together.png
      md5: 5ba0e077e44ea7de94255eea1c74423e
      size: 154714
  evaluate@4:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_uniform.tar --output-dir
      data/tiered_imagenet/metrics/uniform --device cuda:1 &> data/tiered_imagenet/logs/evaluate_uniform.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_uniform.tar
      md5: 2a229fb816708663fc0954b3ac64dd8a
      size: 44787162
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_uniform.out
      md5: 98106b40a6f83c3a527a0b8467715a39
      size: 369720
    - path: data/tiered_imagenet/metrics/uniform/raw_results.csv
      md5: a71189d770afbbd01b16bf3a15431560
      size: 63710146
  compute_metrics@4:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/uniform &> data/tiered_imagenet/logs/compute_metrics_uniform.out
    deps:
    - path: data/tiered_imagenet/metrics/uniform/raw_results.csv
      md5: a71189d770afbbd01b16bf3a15431560
      size: 63710146
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_uniform.out
      md5: 06df848b7f0f4f329180a98eff3ae416
      size: 704
    - path: data/tiered_imagenet/metrics/uniform/accuracy_v_variance.png
      md5: 01b925ceb8063ee89b4536492373a47b
      size: 58044
    - path: data/tiered_imagenet/metrics/uniform/evaluation_metrics.json
      md5: 7b9d8e51edd826afcb531ade3e5b199c
      size: 235
    - path: data/tiered_imagenet/metrics/uniform/task_performances.csv
      md5: 862ca2dc0a179359704844bbcbb5f59a
      size: 138398
  train@2:
    cmd: python -m src.train --specs-dir data/tiered_imagenet/specs --distances-dir
      data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e2
      --tb-log-dir data/tiered_imagenet/tb_logs/semantic_e2 --output-model data/tiered_imagenet/models/trained_model_semantic_e2.tar
      --sampler semantic --semantic-alpha 0.01 --random-seed 1 --device cuda:1 &>
      data/tiered_imagenet/logs/train_semantic_e2.out
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/specs/train.json
      md5: 3d8a420c1257c8d0c3dc3e1cbe3403a8
      size: 30593
    - path: data/tiered_imagenet/specs/val.json
      md5: 64dde6b03b773bdf5b65c3dd04770e81
      size: 8495
    - path: src/train.py
      md5: 6b32adbb939acf316cd22f9eea10a359
      size: 5167
    outs:
    - path: data/tiered_imagenet/logs/train_semantic_e2.out
      md5: aef26b1cf042d16c37c5b7a4d767fcc8
      size: 5229051
    - path: data/tiered_imagenet/metrics/semantic_e2/training_tasks.pkl
      md5: 5f2efd60ca7d43457ff2a18f1c230776
      size: 25210184
    - path: data/tiered_imagenet/models/trained_model_semantic_e2.tar
      md5: d3dcc581a3c819164df4a93eb22dddf8
      size: 44787172
  get_train_stats@2:
    cmd: python -m src.get_training_tasks_stats --training-tasks-record data/tiered_imagenet/metrics/semantic_e2/training_tasks.pkl
      --distances-dir data/tiered_imagenet/distances --metrics-dir data/tiered_imagenet/metrics/semantic_e2
    deps:
    - path: data/tiered_imagenet/distances/train.csv
      md5: daecfc11832898acdea1ceb04bbae72c
      size: 2252160
    - path: data/tiered_imagenet/metrics/semantic_e2/training_tasks.pkl
      md5: 5f2efd60ca7d43457ff2a18f1c230776
      size: 25210184
    outs:
    - path: data/tiered_imagenet/metrics/semantic_e2/intra_training_task_distances.csv
      md5: ffbd0640e5f7cd1a1061923e1d27d6ce
      size: 2139650
    - path: data/tiered_imagenet/metrics/semantic_e2/training_classes_biconfusion.png
      md5: 1e6e8c9f3bf21f1cf9bd1804e6e4ba8f
      size: 187530
    - path: data/tiered_imagenet/metrics/semantic_e2/training_classes_sampled_together.png
      md5: 3bf1f9a4c02e4e0d23b0ec38a84bc651
      size: 155295
  evaluate@2:
    cmd: python -m src.evaluate --specs-dir data/tiered_imagenet/specs --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --trained-model data/tiered_imagenet/models/trained_model_semantic_e2.tar --output-dir
      data/tiered_imagenet/metrics/semantic_e2 --device cuda:1 &> data/tiered_imagenet/logs/evaluate_semantic_e2.out
    deps:
    - path: data/tiered_imagenet/models/trained_model_semantic_e2.tar
      md5: d3dcc581a3c819164df4a93eb22dddf8
      size: 44787172
    - path: data/tiered_imagenet/specs/test.json
      md5: 522a3fae2c4919b3b1d02c7f1221cc20
      size: 13976
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/evaluate.py
      md5: 311924c76b24a956e0cd69e698ba72aa
      size: 1993
    outs:
    - path: data/tiered_imagenet/logs/evaluate_semantic_e2.out
      md5: 4864e3034e187de2ad4e80ffb7e0852f
      size: 369816
    - path: data/tiered_imagenet/metrics/semantic_e2/raw_results.csv
      md5: 488970b36dbb79b4d79f6ab715ba3009
      size: 63729954
  compute_metrics@2:
    cmd: python -m src.compute_metrics --testbed data/tiered_imagenet/testbeds/testbed_5_shot.csv
      --metrics-dir data/tiered_imagenet/metrics/semantic_e2 &> data/tiered_imagenet/logs/compute_metrics_semantic_e2.out
    deps:
    - path: data/tiered_imagenet/metrics/semantic_e2/raw_results.csv
      md5: 488970b36dbb79b4d79f6ab715ba3009
      size: 63729954
    - path: data/tiered_imagenet/testbeds/testbed_5_shot.csv
      md5: dcdbfef577d631c048f744c91d9cc01e
      size: 16912160
    - path: src/compute_metrics.py
      md5: db01d73e7501f6a7d1bf0e24a53f24e7
      size: 2419
    outs:
    - path: data/tiered_imagenet/logs/compute_metrics_semantic_e2.out
      md5: e5c9aae0cedaf26fdfcb41274efe7359
      size: 716
    - path: data/tiered_imagenet/metrics/semantic_e2/accuracy_v_variance.png
      md5: 67494607bbc8cdbdfabc6820682076fb
      size: 57129
    - path: data/tiered_imagenet/metrics/semantic_e2/evaluation_metrics.json
      md5: 51f1b911996c3dec2b01cfbf1255f309
      size: 245
    - path: data/tiered_imagenet/metrics/semantic_e2/task_performances.csv
      md5: b6355eff688ac83cefa88524b8ab3a01
      size: 138393
